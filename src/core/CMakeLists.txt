cmake_minimum_required(VERSION 3.11)

file(GLOB_RECURSE xournalpp_sources *.cpp *.h)
set(xournalpp_include_dirs "${CMAKE_CURRENT_SOURCE_DIR}")

add_library(xournalpp-core STATIC ${xournalpp_sources})
target_compile_features(xournalpp-core PUBLIC ${PROJECT_CXX_FEATURES})
target_link_libraries(xournalpp-core
        PRIVATE xoj::util ${xournalpp_LDFLAGS}
        PUBLIC xoj::stacktrace xoj::defaults)
target_include_directories(xournalpp-core PRIVATE)
target_include_directories(xournalpp-core PRIVATE ${xournalpp_include_dirs})
add_library(xoj::core ALIAS xournalpp-core)
